---
import BaseLayout from '../layouts/BaseLayout.astro'
import DeliveryGuard from '../components/react/DeliveryGuard.tsx'
import DeliveryDashboard from '../components/react/DeliveryDashboard.tsx'
---

<BaseLayout title="Dashboard Delivery">
  <DeliveryGuard client:load>
    <main class="min-h-screen bg-gray-900 pb-20">
      <!-- Header -->
      <div class="bg-gray-800 px-4 py-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 bg-orange-600 rounded-lg flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
            </svg>
          </div>
          <h1 class="text-xl font-bold text-white">ðŸšš Town Repartidor</h1>
        </div>
        
        <div class="flex items-center gap-4">
          <!-- Notificaciones -->
          <button class="relative p-2 text-gray-400 hover:text-white transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM4.5 19.5L9 15l4.5 4.5" />
            </svg>
            <div class="absolute -top-1 -right-1 w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center">
              <span class="text-xs text-white font-bold" id="notification-count">0</span>
            </div>
          </button>
          
          <!-- Perfil -->
          <button class="relative p-2 text-gray-400 hover:text-white transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Dashboard de Delivery -->
      <DeliveryDashboard client:load />
    </main>
  </DeliveryGuard>
</BaseLayout>

<style>
  .delivery-card {
    background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  }
  
  .status-pending {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  }
  
  .status-in-progress {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  }
  
  .status-completed {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  }
</style>

